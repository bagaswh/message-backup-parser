!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e.defineLocale=function(e,t,n){return this.store[e]||(this.store[e]={}),this.store[e][t]=n,this.store[e][t]},e.getAllLocales=function(){return this.store},e.getLocalesByAppName=function(e){return this.store[e]},e.getLocalesByLang=function(e){var t,n={};for(var i in this.store)for(var a in this.store[i])e==a&&(n[i]||(n[i]={}),n[i]=((t={})[e]=this.store[i][e],t));return n},e.getLocale=function(e,t){return this.store[e][t]},e.store={},e}(),a=n(4);a.keys().forEach(function(e){a(e)})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e.definePatterns=function(e,t){return this.store[e]||(this.store[e]=t),this.store[e]},e.getAllPatterns=function(){return this.store},e.getPatterns=function(e,t){var n=this.store[e];return n?n[t]:null},e.store={},e}(),a=n(10);a.keys().forEach(function(e){a(e)})},function(e,t){},function(e,t){e.exports=require("fs")},function(e,t,n){var i={"./line/locales/en.ts":5,"./line/locales/id.ts":6,"./line/locales/locale-line.ts":7,"./whatsapp/locales/en.ts":8,"./whatsapp/locales/id.ts":9,"./whatsapp/locales/locale-whatsapp":2,"./whatsapp/locales/locale-whatsapp.ts":2};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=s,e.exports=a,a.id=4},function(e,t,n){"use strict";n.r(t),n(0).a.defineLocale("line","en",{firstLineSignature:"Chat history with",beginningFile:"Chat history with",dateSaved:"Saved on"})},function(e,t,n){"use strict";n.r(t),n(0).a.defineLocale("line","id",{firstLineSignature:"Riwayat obrolan dengan",beginningFile:"Riwayat obrolan dengan",dateSaved:"Waktu disimpan"})},function(e,t){},function(e,t,n){"use strict";n.r(t),n(0).a.defineLocale("whatsapp","en",{firstLineSignature:"Messages to this chat and calls are now secured with end-to-end encryption.?(?: Click for more info.)?",encryptionNotification:"Messages to this chat and calls are now secured with end-to-end encryption.?(?: Click for more info.)?",missedCall:"Missed (?:video|voice) call.",deletedMessage:"(This message was deleted)|(You deleted this message)",attachedContact:"attached",attachedMedia:"attached",attachedDocument:"attached",location:"location"})},function(e,t,n){"use strict";n.r(t),n(0).a.defineLocale("whatsapp","id",{firstLineSignature:"Pesan yang dikirim ke chat ini dan panggilan kini diamankan dengan enkripsi end-to-end.(?: Ketuk untuk info selengkapnya.)?",encryptionNotification:"Pesan yang dikirim ke chat ini dan panggilan kini diamankan dengan enkripsi end-to-end.(?: Ketuk untuk info selengkapnya.)?",missedCall:"Missed (?:video|voice) call",deletedMessage:"(Pesan ini telah dihapus)|(Anda telah menghapus pesan ini)",attachedContact:"\\(?(?:file ?)?terlampir\\)?",attachedMedia:"\\(?(?:file ?)?terlampir\\)?",attachedDocument:"\\(?(?:file ?)?terlampir\\)?",location:"lokasi"})},function(e,t,n){var i={"./line/patterns-line.ts":11,"./whatsapp/patterns-whatsapp.ts":12};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=s,e.exports=a,a.id=10},function(e,t,n){"use strict";n.r(t),n.d(t,"PatternsLINE",function(){return a});var i=n(1),a={ios:{firstLineSignature:"\\[LINE\\] {{fs}} ([\\S\\s]+)",beginningFile:"\\[LINE\\] {{fs}} ([\\S\\s]+)",dateSaved:"{{fs}}(?:\\:|：) ?((\\d{1,2})\\/(\\d{1,2})\\/(\\d{4,})) (\\d{1,2}\\.\\d{1,2})",dateBegin:"(\\w+)\\, ((\\d{1,2})\\/(\\d{1,2})\\/(\\d{4,}))",messageLine:"(\\d{1,2}\\:\\d{1,2})\\t([\\S\\s]+)\\t([\\S\\s]+)",alternateMessageLine:"(\\d{1,2}\\:\\d{1,2})\\t([\\S\\s]+? left the chat.)",toDateBeginString:function(e){return e[1]+", "+e[4]+"/"+e[3]+"/"+e[5]},toDateSavedString:function(e){return e[3]+"/"+e[2]+"/"+e[4]+" "+e[5].replace(".",":")}},android:{firstLineSignature:"{{fs}} ([\\S\\s]+)( ?:\\[LINE\\])?",beginningFile:"{{fs}} ([\\S\\s]+)( ?:\\[LINE\\])?",dateSaved:"{{fs}}(?:\\:|：) ?((\\d{4})\\/(\\d{1,2})\\/(\\d{1,2})) (\\d{1,2}\\:\\d{1,2})",dateBegin:"((\\d{4})/(\\d{1,2})/(\\d{1,2}))\\((\\w+)",messageLine:"(\\d{1,2}\\:\\d{1,2})\\t([\\S\\s]+)\\t([\\S\\s]+)",alternateMessageLine:"(\\d{1,2}\\:\\d{1,2})\\t([\\S\\s]+?) left the chat.",toDateBeginString:function(e){return e[5]+", "+e[3]+"/"+e[4]+"/"+e[2]},toDateSavedString:function(e){return e[3]+"/"+e[4]+"/"+e[2]+" "+e[5]}}};i.a.definePatterns("line",a)},function(e,t,n){"use strict";n.r(t),n.d(t,"PatternsWhatsApp",function(){return r});var i=n(1),a="\\[(\\d{1,2}\\/\\d{1,2}\\/\\d{1,2} \\d{1,2}.\\d{1,2}.\\d{1,2})\\] ([\\S\\s]+?):",s="(\\d{1,2}\\/\\d{1,2}\\/\\d{1,2} \\d{1,2}.\\d{1,2}) - ([\\S\\s]+?): ",r={ios:{firstLineSignature:a+" ‎({{fs}})",encryptionNotification:a+" ‎({{fs}})",missedCall:a+" ‎({{fs}})",deletedMessage:a+" ‎({{fs}})",attachedContact:"‎"+a+" ‎<({{fs}}: ((\\d{8})-([\\S\\s]+?).(vcf)))>",attachedDocument:"‎"+a+" ([\\S\\s]+)? ‎<({{fs}}: ((\\d{8})-([\\S\\s]+?).([a-z0-9]+)))>",attachedMedia:"‎"+a+" ‎<({{fs}}: ((\\d{8})-([\\S\\s]+?)(?:-(\\d{4})-(\\d{1,2})-(\\d{1,2})-(\\d{1,2})-(\\d{1,2})-(\\d{1,2}))?.([a-z0-9]+)))>",location:a+" ([\\S\\s]+): (https://maps.google.com/[\\S\\s]+)",regularMessageLine:a+" ([\\S\\s]+)"},android:{firstLineSignature:"(\\d{1,2}\\/\\d{1,2}\\/\\d{1,2} \\d{1,2}.\\d{1,2}) - ({{fs}})",encryptionNotification:"(\\d{1,2}\\/\\d{1,2}\\/\\d{1,2} \\d{1,2}.\\d{1,2}) - ({{fs}})",missedCall:s+"({{fs}})",deletedMessage:s+"({{fs}})",attachedContact:s+"‎(([\\S\\s]+?).(vcf)) ({{fs}})",attachedMedia:s+"‎(([A-Z]{3})-(\\d{8})-(WA\\d{4}).([a-z0-9]+?)) ({{fs}})",attachedDocument:s+"‎([\\S\\s]+?).([a-z0-9]+?) ({{fs}})",location:"[\\S\\s]\\r\\n|\\n[\\S\\s]\\r\\n|\\n{{fs}} : [\\S\\s]",regularMessageLine:s+"([\\S\\s]+)"}};i.a.definePatterns("whatsapp",r)},function(e,t){e.exports=require("http")},function(e,t,n){"use strict";n.r(t);var i=n(3);var a,s,r=function(){function e(){}return e._changeFormatSpecifier=function(e){this.formatSpecifier=e,this.regexFormatSpecifier=new RegExp(e,"g")},e.build=function(e,t){void 0===t&&(t={formatSpecifier:this.formatSpecifier,includeStartingBoundary:!1,includeEndBoundary:!1});for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=t.formatSpecifier,s=0,r=e.replace(new RegExp(a,"g"),function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return n[s++]});t.includeStartingBoundary&&(r="^"+r),t.includeEndBoundary&&(r+="$");var o=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}(r);return this.regexCache[o]||(this.regexCache[o]=new RegExp(r)),this.regexCache[o]},e.formatSpecifier="{{fs}}",e.regexFormatSpecifier=/\{\{fs\}\}/g,e.regexCache={},e}(),o=n(1),c=n(0),d=function(){function e(e,t){this.source=e,this.fileInfo=t,this.index=0,this.patterns=o.a.getPatterns(t.appType,t.osType),this.regexStore=this.buildRegex(),this.data={chatName:"",chatParticipants:[],groups:[],totalMessages:0}}return e.prototype.buildRegex=function(){var e={};for(var t in this.patterns)if("function"!=typeof this.patterns[t]){var n=r.build(this.patterns[t],void 0,c.a.getLocale(this.fileInfo.appType,this.fileInfo.lang)[t]);e[t]=n}return e},e}(),f=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.source=t,i.fileInfo=n,i.currentDate="",i.setChatName(),i}return f(t,e),t.prototype.setChatName=function(){var e="ios"==this.fileInfo.osType?0:1,t=this.source[e].match(this.regexStore.encryptionNotification);t&&(this.data.chatName=t[2])},t.prototype.parseAttachedMediaAndroid=function(e,t){var n,i={fullFileName:"",fileID:"",fileType:"",fileName:"",contactName:"",fileExtension:""};n=t.slice(3),i.fullFileName=n[0],i.fileType=n[1],"attachedMedia"==e?(i.fileExtension=t[7],i.fileID=t[6]):"attachedContact"==e?(i.fileExtension=t[5],i.contactName=t[4]):"attachedDocument"==e&&(i.fileExtension=t[4]);var a={};for(var s in i)i[s]&&(a[s]=i[s]);return a},t.prototype.parseAttachedMediaIOS=function(e,t){var n,i={fullFileName:"",fileID:"",fileType:"",fileName:"",contactName:"",fileExtension:""};if("attachedMedia"==e){var a=t.slice(4);i.fullFileName=a[0],i.fileID=a[1],i.fileType=a[2],i.fileExtension=a[9]}"attachedDocument"==e&&(n=(a=t.slice(5)).slice(),i.fullFileName=n[0],i.fileID=n[1],i.fileName=n[2],i.fileExtension=n[3]);if("attachedContact"==e){a=t.slice(4);i.fullFileName=a[0],i.fileID=a[1],i.contactName=a[2],i.fileExtension=a[3]}var s={};for(var r in i)i[r]&&(s[r]=i[r]);return s},t.prototype.scan=function(){for(var e;this.index!=this.source.length-1;){var t=this.source[this.index],n=void 0,i=!1;for(var a in this.regexStore)if(n=t.match(this.regexStore[a])){i=!0;var s=void 0,r=void 0,o=void 0;s=(e=n.slice(1))[0],r=e[1],o=e[2],0==this.index&&"android"==this.fileInfo.osType&&(r="",o=n[2]);var c=s.split(" ")[0];this.data.chatParticipants.indexOf(r)<0&&""!=r&&this.data.chatParticipants.push(r);var d={dateSent:s,sender:r,messageContent:o,messageType:a};a.match(/^attached/)&&(d.additionalInfo="ios"==this.fileInfo.osType?this.parseAttachedMediaIOS(a,n):this.parseAttachedMediaAndroid(a,n)),this.currentDate!==c?(this.data.groups.push({dateBegin:c,messages:[d]}),this.currentDate=c):this.data.groups[this.data.groups.length-1].messages.push(d),this.data.totalMessages++;break}if(!i){var f=this.data.groups,u=f[f.length-1].messages;u[u.length-1].messageContent+="\n"+t}this.index++}return this.data},t}(d),l=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h={line:function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.source=t,i.fileInfo=n,i.data.dateSaved="",i.setChatName(),i.setSavedDate(),i}return l(t,e),t.prototype.setChatName=function(){var e=this.source[this.index++].match(this.regexStore.beginningFile);e&&(this.data.chatName=e[1])},t.prototype.matchChatName=function(){var e=this;this.data.chatParticipants.forEach(function(t){e.data.chatName.match(t)&&(e.data.chatName=t)})},t.prototype.setSavedDate=function(){var e=this.source[this.index++],t=this.patterns.toDateSavedString(e.match(this.regexStore.dateSaved));t&&(this.data.dateSaved=t),this.index++},t.prototype.scan=function(){for(;this.index!=this.source.length-1;)this.data.groups.push(this.scanMessagesInGroup());return this.matchChatName(),this.data},t.prototype.scanMessagesInGroup=function(){var e={dateBegin:"",messages:[]},t=this.patterns.toDateBeginString(this.source[this.index++].match(this.regexStore.dateBegin));for(e.dateBegin=t;!this.source[this.index].match(this.regexStore.dateBegin)&&this.index!=this.source.length-1;){var n=this.source[this.index].match(this.regexStore.messageLine);if(n){this.data.totalMessages++;var i=n.slice(1,4),a=i[0],s=i[1],r=i[2];this.data.chatParticipants.indexOf(s)<0&&this.data.chatParticipants.push(s),e.messages.push({dateSent:a,sender:s,messageContent:r})}this.source[this.index].match(/[\S\s]/)&&!n&&e.messages[e.messages.length-1]&&(e.messages[e.messages.length-1].messageContent+="\n"+this.source[this.index]),!n&&(n=this.source[this.index].match(this.regexStore.alternateMessageLine))&&e.messages.push({dateSent:n[1],messageContent:n[2]}),this.index++}return e},t}(d),whatsapp:u},p=new(function(){function e(e){this.source=e,this.splitSource=e.split(/\r\n|\n/),this.fileInfo=this._getFileInfo()}return e.prototype._getFileInfo=function(){var e={appType:null,osType:null,lang:null},t=this.splitSource[0],n=o.a.getAllPatterns();for(var i in n){var a=c.a.getLocalesByAppName(i);for(var s in a)for(var d in n[i]){var f=r.build(n[i][d].firstLineSignature,void 0,c.a.getLocale(i,s).firstLineSignature);if(t.match(f))return e={appType:i,osType:d,lang:s}}}return e},e.prototype.parse=function(){var e=h[this.fileInfo.appType];return e?new e(this.splitSource,this.fileInfo).scan():null},e}())((s="examples/wa_android_bege_id/_chat.txt",Object(i.readFileSync)(s,"utf-8"))).parse();n(13).createServer(function(e,t){t.writeHead(200,{"Content-Type":"text/html"});var n="<script>console.log(("+JSON.stringify(p)+"));<\/script>";t.end(n)}).listen(1337,"127.0.0.1")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbGliL3N0b3JlL3N0b3JlLWxvY2FsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vbGliL3N0b3JlL3N0b3JlLXBhdHRlcm5zLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImZzXCIiLCJ3ZWJwYWNrOi8vLy4vbGliL3BhdHRlcm5zIHN5bmMgXFwvbG9jYWxlc1xcLy4qLnRzIiwid2VicGFjazovLy8uL2xpYi9wYXR0ZXJucy9saW5lL2xvY2FsZXMvZW4udHMiLCJ3ZWJwYWNrOi8vLy4vbGliL3BhdHRlcm5zL2xpbmUvbG9jYWxlcy9pZC50cyIsIndlYnBhY2s6Ly8vLi9saWIvcGF0dGVybnMvd2hhdHNhcHAvbG9jYWxlcy9lbi50cyIsIndlYnBhY2s6Ly8vLi9saWIvcGF0dGVybnMvd2hhdHNhcHAvbG9jYWxlcy9pZC50cyIsIndlYnBhY2s6Ly8vW1xcXFxcXC9dbG9jYWxlc1tcXFxcXFwvXSkuKSpcXC50cyQiLCJ3ZWJwYWNrOi8vLy4vbGliL3BhdHRlcm5zL2xpbmUvcGF0dGVybnMtbGluZS50cyIsIndlYnBhY2s6Ly8vLi9saWIvcGF0dGVybnMvd2hhdHNhcHAvcGF0dGVybnMtd2hhdHNhcHAudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiaHR0cFwiIiwid2VicGFjazovLy8uL2xpYi9yZWdleC1idWlsZGVyLnRzIiwid2VicGFjazovLy8uL2xpYi9zY2FubmVyL3NjYW5uZXItd2hhdHNhcHAudHMiLCJ3ZWJwYWNrOi8vLy4vbGliL2ZpbGUtcmVhZGVyLnRzIiwid2VicGFjazovLy8uL2xpYi9zY2FubmVyL3NjYW5uZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbGliL3NjYW5uZXIvc2Nhbm5lci1saW5lLnRzIiwid2VicGFjazovLy8uL2xpYi9wYXJzZXIvbWFwLXRvLXNjYW5uZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbGliL2luZGV4LnRzIiwid2VicGFjazovLy8uL2xpYi9wYXJzZXIvcGFyc2VyLnRzIiwid2VicGFjazovLy8uL2xpYi9hcHAudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiTG9jYWxlc1N0b3JlIiwiZGVmaW5lTG9jYWxlIiwiYXBwTmFtZSIsImxvY2FsZUxhbmciLCJ0aGlzIiwic3RvcmUiLCJnZXRBbGxMb2NhbGVzIiwiZ2V0TG9jYWxlc0J5QXBwTmFtZSIsImdldExvY2FsZXNCeUxhbmciLCJsYW5nIiwiX2EiLCJsb2NhbGVzIiwibGFuZ0luTG9jYWxlIiwiZ2V0TG9jYWxlIiwiY29udGV4dCIsImtleXMiLCJmb3JFYWNoIiwiUGF0dGVybnNTdG9yZSIsImRlZmluZVBhdHRlcm5zIiwiZ2V0QWxsUGF0dGVybnMiLCJnZXRQYXR0ZXJucyIsImFwcFR5cGUiLCJvc1R5cGUiLCJhcHAiLCJyZXF1aXJlIiwibWFwIiwiLi9saW5lL2xvY2FsZXMvZW4udHMiLCIuL2xpbmUvbG9jYWxlcy9pZC50cyIsIi4vbGluZS9sb2NhbGVzL2xvY2FsZS1saW5lLnRzIiwiLi93aGF0c2FwcC9sb2NhbGVzL2VuLnRzIiwiLi93aGF0c2FwcC9sb2NhbGVzL2lkLnRzIiwiLi93aGF0c2FwcC9sb2NhbGVzL2xvY2FsZS13aGF0c2FwcCIsIi4vd2hhdHNhcHAvbG9jYWxlcy9sb2NhbGUtd2hhdHNhcHAudHMiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiZSIsIkVycm9yIiwiY29kZSIsInJlc29sdmUiLCJmaXJzdExpbmVTaWduYXR1cmUiLCJiZWdpbm5pbmdGaWxlIiwiZGF0ZVNhdmVkIiwiZW5jcnlwdGlvbk5vdGlmaWNhdGlvbiIsIm1pc3NlZENhbGwiLCJkZWxldGVkTWVzc2FnZSIsImF0dGFjaGVkQ29udGFjdCIsImF0dGFjaGVkTWVkaWEiLCJhdHRhY2hlZERvY3VtZW50IiwibG9jYXRpb24iLCIuL2xpbmUvcGF0dGVybnMtbGluZS50cyIsIi4vd2hhdHNhcHAvcGF0dGVybnMtd2hhdHNhcHAudHMiLCJQYXR0ZXJuc0xJTkUiLCJfc3RvcmVfc3RvcmVfcGF0dGVybnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsImlvcyIsImRhdGVCZWdpbiIsIm1lc3NhZ2VMaW5lIiwiYWx0ZXJuYXRlTWVzc2FnZUxpbmUiLCJ0b0RhdGVCZWdpblN0cmluZyIsIm1hdGNoIiwidG9EYXRlU2F2ZWRTdHJpbmciLCJyZXBsYWNlIiwiYW5kcm9pZCIsIlBhdHRlcm5zV2hhdHNBcHAiLCJpT1NNZXNzYWdlTGluZVN0cnVjdHVyZSIsImFuZHJvaWRNZXNzYWdlTGluZVN0cnVjdHVyZVdpdGhTZW5kZXIiLCJyZWd1bGFyTWVzc2FnZUxpbmUiLCJhbmRyb2lkTWVzc2FnZUxpbmVTdHJ1Y3R1cmVOb1NlbmRlciIsImV4dGVuZFN0YXRpY3MiLCJwYXRoIiwiUmVnZXhCdWlsZGVyIiwiX2NoYW5nZUZvcm1hdFNwZWNpZmllciIsImZvcm1hdFNwZWNpZmllciIsInJlZ2V4Rm9ybWF0U3BlY2lmaWVyIiwiUmVnRXhwIiwiYnVpbGQiLCJzdHIiLCJvcHRzIiwiaW5jbHVkZVN0YXJ0aW5nQm91bmRhcnkiLCJpbmNsdWRlRW5kQm91bmRhcnkiLCJmb3JtYXRQYXJhbXMiLCJfaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvcm1hdFBhcmFtc0luZGV4IiwiZm9ybWF0dGVkU3RyIiwic3Vic3RyaW5nIiwiYXJncyIsImhhc2giLCJjaGFyQ29kZUF0IiwiaGFzaENvZGUiLCJyZWdleENhY2hlIiwic2Nhbm5lcl9TY2FubmVyIiwiU2Nhbm5lciIsInNvdXJjZSIsImZpbGVJbmZvIiwiaW5kZXgiLCJwYXR0ZXJucyIsInN0b3JlX3BhdHRlcm5zIiwicmVnZXhTdG9yZSIsImJ1aWxkUmVnZXgiLCJkYXRhIiwiY2hhdE5hbWUiLCJjaGF0UGFydGljaXBhbnRzIiwiZ3JvdXBzIiwidG90YWxNZXNzYWdlcyIsInBhdHRlcm4iLCJyZWdleCIsInVuZGVmaW5lZCIsInN0b3JlX2xvY2FsZXMiLCJfX2V4dGVuZHMiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIl9fIiwiY29uc3RydWN0b3IiLCJTY2FubmVyV2hhdHNBcHAiLCJfc3VwZXIiLCJfdGhpcyIsImN1cnJlbnREYXRlIiwic2V0Q2hhdE5hbWUiLCJzdGFydEluZGV4IiwiZmlyc3RMaW5lIiwicGFyc2VBdHRhY2hlZE1lZGlhQW5kcm9pZCIsImFkZGl0aW9uYWxJbmZvIiwiZnVsbEZpbGVOYW1lIiwiZmlsZUlEIiwiZmlsZVR5cGUiLCJmaWxlTmFtZSIsImNvbnRhY3ROYW1lIiwiZmlsZUV4dGVuc2lvbiIsInNsaWNlIiwiZmluYWxJbmZvIiwiaW5mbyIsInBhcnNlQXR0YWNoZWRNZWRpYUlPUyIsInNjYW4iLCJsaW5lIiwiaGFzTWF0Y2hlZCIsImRhdGVTZW50Iiwic2VuZGVyIiwibWVzc2FnZUNvbnRlbnQiLCJzcGxpdCIsImluZGV4T2YiLCJwdXNoIiwibWVzc2FnZUxpbmVEYXRhIiwibWVzc2FnZVR5cGUiLCJtZXNzYWdlcyIsInNjYW5uZXJfbGluZV9leHRlbmRzIiwibWFwVG9TY2FubmVyIiwiU2Nhbm5lckxJTkUiLCJzZXRTYXZlZERhdGUiLCJtYXRjaENoYXROYW1lIiwiY2hhdFBhcnRpY2lwYW50Iiwic3JjIiwic2Vjb25kTGluZSIsInNjYW5NZXNzYWdlc0luR3JvdXAiLCJtZXNzYWdlc0luR3JvdXAiLCJ3aGF0c2FwcCIsIlBhcnNlciIsInNwbGl0U291cmNlIiwiX2dldEZpbGVJbmZvIiwibG9jYWxlc0J5QXBwTmFtZSIsImZpcnN0TGluZVNpZ25hdHVyZVJlZ2V4IiwicGFyc2UiLCJleHRlcm5hbF9mc18iLCJjcmVhdGVTZXJ2ZXIiLCJyZXMiLCJ3cml0ZUhlYWQiLCJDb250ZW50LVR5cGUiLCJyZXNwb25zZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlbmQiLCJsaXN0ZW4iXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVB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LE9BQUE2RixHQUVBZ0UsRUFBQXJLLFVBQUEwSyxNQUFBLFdBQ0EsSUFBQXZFLEVBQXNCd0QsRUFBWWxKLEtBQUE0RixTQUFBM0UsU0FDbEMsT0FBQXlFLEVBQ0EsSUFBQUEsRUFBQTFGLEtBQUE2SixZQUFBN0osS0FBQTRGLFVBQUF5QyxPQUVBLE1BRUF1QixFQWpDVSxHRERILEVKRkExRixFSUNrQix3Q0pBZDdGLE9BQUE2TCxFQUFBLGFBQUE3TCxDQUFZNkYsRUFBQSxXSUNLK0YsUUVHakIxTSxFQUFRLElBQ25CNE0sYUFBQSxTQUFBckksRUFBQXNJLEdBQ0FBLEVBQUFDLFVBQUEsS0FBd0JDLGVBQUEsY0FDeEIsSUFBQUMsRUFBQSx3QkFBQUMsS0FBQUMsVUFBNER2RSxHQUFJLGdCQUNoRWtFLEVBQUFNLElBQUFILEtBRUFJLE9BQUEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTQpO1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3JlZmVyZW5jZXMuZC50c1wiIC8+XG52YXIgeCA9IHtcbiAgICBlbjoge1xuICAgICAgICBmaXJzdExpbmVTaWduYXR1cmU6ICdhJyxcbiAgICAgICAgYmVnaW5uaW5nRmlsZTogJ2EnLFxuICAgICAgICBkYXRlU2F2ZWQ6ICdhcydcbiAgICB9XG59O1xudmFyIExvY2FsZXNTdG9yZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMb2NhbGVzU3RvcmUoKSB7XG4gICAgfVxuICAgIExvY2FsZXNTdG9yZS5kZWZpbmVMb2NhbGUgPSBmdW5jdGlvbiAoYXBwTmFtZSwgbG9jYWxlTGFuZywgdmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0b3JlW2FwcE5hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlW2FwcE5hbWVdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9yZVthcHBOYW1lXVtsb2NhbGVMYW5nXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZVthcHBOYW1lXVtsb2NhbGVMYW5nXTtcbiAgICB9O1xuICAgIExvY2FsZXNTdG9yZS5nZXRBbGxMb2NhbGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZTtcbiAgICB9O1xuICAgIExvY2FsZXNTdG9yZS5nZXRMb2NhbGVzQnlBcHBOYW1lID0gZnVuY3Rpb24gKGFwcE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmVbYXBwTmFtZV07XG4gICAgfTtcbiAgICBMb2NhbGVzU3RvcmUuZ2V0TG9jYWxlc0J5TGFuZyA9IGZ1bmN0aW9uIChsYW5nKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGxvY2FsZXMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgYXBwTmFtZSBpbiB0aGlzLnN0b3JlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBsYW5nSW5Mb2NhbGUgaW4gdGhpcy5zdG9yZVthcHBOYW1lXSkge1xuICAgICAgICAgICAgICAgIGlmIChsYW5nICE9IGxhbmdJbkxvY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFsb2NhbGVzW2FwcE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZXNbYXBwTmFtZV0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9jYWxlc1thcHBOYW1lXSA9IChfYSA9IHt9LCBfYVtsYW5nXSA9IHRoaXMuc3RvcmVbYXBwTmFtZV1bbGFuZ10sIF9hKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxlcztcbiAgICB9O1xuICAgIExvY2FsZXNTdG9yZS5nZXRMb2NhbGUgPSBmdW5jdGlvbiAoYXBwTmFtZSwgbG9jYWxlTGFuZykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZVthcHBOYW1lXVtsb2NhbGVMYW5nXTtcbiAgICB9O1xuICAgIC8vIGFwcE5hbWU6IExvY2FsZTxUPlxuICAgIExvY2FsZXNTdG9yZS5zdG9yZSA9IHt9O1xuICAgIHJldHVybiBMb2NhbGVzU3RvcmU7XG59KCkpO1xuZXhwb3J0IHsgTG9jYWxlc1N0b3JlIH07XG52YXIgY29udGV4dCA9IHJlcXVpcmUuY29udGV4dCgnLi4vcGF0dGVybnMnLCB0cnVlLCAvXFwvbG9jYWxlc1xcLy4qLnRzLyk7XG5jb250ZXh0LmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBjb250ZXh0KGtleSk7XG59KTtcbi8vUHJvbWlzZS5yZXNvbHZlKDEpLnRoZW4oKCkgPT4gY29uc29sZS5sb2coTG9jYWxlc1N0b3JlLmdldEFsbExvY2FsZXMoKSkpO1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3JlZmVyZW5jZXMuZC50c1wiIC8+XG52YXIgUGF0dGVybnNTdG9yZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYXR0ZXJuc1N0b3JlKCkge1xuICAgIH1cbiAgICBQYXR0ZXJuc1N0b3JlLmRlZmluZVBhdHRlcm5zID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5zdG9yZVtuYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5zdG9yZVtuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlW25hbWVdO1xuICAgIH07XG4gICAgUGF0dGVybnNTdG9yZS5nZXRBbGxQYXR0ZXJucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmU7XG4gICAgfTtcbiAgICBQYXR0ZXJuc1N0b3JlLmdldFBhdHRlcm5zID0gZnVuY3Rpb24gKGFwcFR5cGUsIG9zVHlwZSkge1xuICAgICAgICB2YXIgYXBwID0gdGhpcy5zdG9yZVthcHBUeXBlXTtcbiAgICAgICAgaWYgKGFwcCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcFtvc1R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLy8gYXBwTmFtZTogUGF0dGVybjxUPlxuICAgIFBhdHRlcm5zU3RvcmUuc3RvcmUgPSB7fTtcbiAgICByZXR1cm4gUGF0dGVybnNTdG9yZTtcbn0oKSk7XG5leHBvcnQgeyBQYXR0ZXJuc1N0b3JlIH07XG52YXIgY29udGV4dCA9IHJlcXVpcmUuY29udGV4dCgnLi4vcGF0dGVybnMnLCB0cnVlLCAvXigoPyFbXFxcXC9dbG9jYWxlc1tcXFxcL10pLikqXFwudHMkLyk7XG5jb250ZXh0LmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBjb250ZXh0KGtleSk7XG59KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyIsInZhciBtYXAgPSB7XG5cdFwiLi9saW5lL2xvY2FsZXMvZW4udHNcIjogNSxcblx0XCIuL2xpbmUvbG9jYWxlcy9pZC50c1wiOiA2LFxuXHRcIi4vbGluZS9sb2NhbGVzL2xvY2FsZS1saW5lLnRzXCI6IDcsXG5cdFwiLi93aGF0c2FwcC9sb2NhbGVzL2VuLnRzXCI6IDgsXG5cdFwiLi93aGF0c2FwcC9sb2NhbGVzL2lkLnRzXCI6IDksXG5cdFwiLi93aGF0c2FwcC9sb2NhbGVzL2xvY2FsZS13aGF0c2FwcFwiOiAyLFxuXHRcIi4vd2hhdHNhcHAvbG9jYWxlcy9sb2NhbGUtd2hhdHNhcHAudHNcIjogMlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDQ7IiwiaW1wb3J0IHsgTG9jYWxlc1N0b3JlIH0gZnJvbSAnLi4vLi4vLi4vc3RvcmUvc3RvcmUtbG9jYWxlcyc7XG5Mb2NhbGVzU3RvcmUuZGVmaW5lTG9jYWxlKCdsaW5lJywgJ2VuJywge1xuICAgIGZpcnN0TGluZVNpZ25hdHVyZTogJ0NoYXQgaGlzdG9yeSB3aXRoJyxcbiAgICBiZWdpbm5pbmdGaWxlOiAnQ2hhdCBoaXN0b3J5IHdpdGgnLFxuICAgIGRhdGVTYXZlZDogJ1NhdmVkIG9uJ1xufSk7XG4iLCJpbXBvcnQgeyBMb2NhbGVzU3RvcmUgfSBmcm9tICcuLi8uLi8uLi9zdG9yZS9zdG9yZS1sb2NhbGVzJztcbkxvY2FsZXNTdG9yZS5kZWZpbmVMb2NhbGUoJ2xpbmUnLCAnaWQnLCB7XG4gICAgZmlyc3RMaW5lU2lnbmF0dXJlOiAnUml3YXlhdCBvYnJvbGFuIGRlbmdhbicsXG4gICAgYmVnaW5uaW5nRmlsZTogJ1Jpd2F5YXQgb2Jyb2xhbiBkZW5nYW4nLFxuICAgIGRhdGVTYXZlZDogJ1dha3R1IGRpc2ltcGFuJ1xufSk7XG4iLCJpbXBvcnQgeyBMb2NhbGVzU3RvcmUgfSBmcm9tICcuLi8uLi8uLi9zdG9yZS9zdG9yZS1sb2NhbGVzJztcbkxvY2FsZXNTdG9yZS5kZWZpbmVMb2NhbGUoJ3doYXRzYXBwJywgJ2VuJywge1xuICAgIGZpcnN0TGluZVNpZ25hdHVyZTogJ01lc3NhZ2VzIHRvIHRoaXMgY2hhdCBhbmQgY2FsbHMgYXJlIG5vdyBzZWN1cmVkIHdpdGggZW5kLXRvLWVuZCBlbmNyeXB0aW9uLj8oPzogQ2xpY2sgZm9yIG1vcmUgaW5mby4pPycsXG4gICAgZW5jcnlwdGlvbk5vdGlmaWNhdGlvbjogJ01lc3NhZ2VzIHRvIHRoaXMgY2hhdCBhbmQgY2FsbHMgYXJlIG5vdyBzZWN1cmVkIHdpdGggZW5kLXRvLWVuZCBlbmNyeXB0aW9uLj8oPzogQ2xpY2sgZm9yIG1vcmUgaW5mby4pPycsXG4gICAgbWlzc2VkQ2FsbDogJ01pc3NlZCAoPzp2aWRlb3x2b2ljZSkgY2FsbC4nLFxuICAgIGRlbGV0ZWRNZXNzYWdlOiAnKFRoaXMgbWVzc2FnZSB3YXMgZGVsZXRlZCl8KFlvdSBkZWxldGVkIHRoaXMgbWVzc2FnZSknLFxuICAgIGF0dGFjaGVkQ29udGFjdDogJ2F0dGFjaGVkJyxcbiAgICBhdHRhY2hlZE1lZGlhOiAnYXR0YWNoZWQnLFxuICAgIGF0dGFjaGVkRG9jdW1lbnQ6ICdhdHRhY2hlZCcsXG4gICAgbG9jYXRpb246ICdsb2NhdGlvbidcbn0pO1xuIiwiaW1wb3J0IHsgTG9jYWxlc1N0b3JlIH0gZnJvbSAnLi4vLi4vLi4vc3RvcmUvc3RvcmUtbG9jYWxlcyc7XG5Mb2NhbGVzU3RvcmUuZGVmaW5lTG9jYWxlKCd3aGF0c2FwcCcsICdpZCcsIHtcbiAgICBmaXJzdExpbmVTaWduYXR1cmU6ICdQZXNhbiB5YW5nIGRpa2lyaW0ga2UgY2hhdCBpbmkgZGFuIHBhbmdnaWxhbiBraW5pIGRpYW1hbmthbiBkZW5nYW4gZW5rcmlwc2kgZW5kLXRvLWVuZC4oPzogS2V0dWsgdW50dWsgaW5mbyBzZWxlbmdrYXBueWEuKT8nLFxuICAgIGVuY3J5cHRpb25Ob3RpZmljYXRpb246ICdQZXNhbiB5YW5nIGRpa2lyaW0ga2UgY2hhdCBpbmkgZGFuIHBhbmdnaWxhbiBraW5pIGRpYW1hbmthbiBkZW5nYW4gZW5rcmlwc2kgZW5kLXRvLWVuZC4oPzogS2V0dWsgdW50dWsgaW5mbyBzZWxlbmdrYXBueWEuKT8nLFxuICAgIG1pc3NlZENhbGw6ICdNaXNzZWQgKD86dmlkZW98dm9pY2UpIGNhbGwnLFxuICAgIGRlbGV0ZWRNZXNzYWdlOiAnKFBlc2FuIGluaSB0ZWxhaCBkaWhhcHVzKXwoQW5kYSB0ZWxhaCBtZW5naGFwdXMgcGVzYW4gaW5pKScsXG4gICAgYXR0YWNoZWRDb250YWN0OiAnXFxcXCg/KD86ZmlsZSA/KT90ZXJsYW1waXJcXFxcKT8nLFxuICAgIGF0dGFjaGVkTWVkaWE6ICdcXFxcKD8oPzpmaWxlID8pP3RlcmxhbXBpclxcXFwpPycsXG4gICAgYXR0YWNoZWREb2N1bWVudDogJ1xcXFwoPyg/OmZpbGUgPyk/dGVybGFtcGlyXFxcXCk/JyxcbiAgICBsb2NhdGlvbjogJ2xva2FzaSdcbn0pO1xuIiwidmFyIG1hcCA9IHtcblx0XCIuL2xpbmUvcGF0dGVybnMtbGluZS50c1wiOiAxMSxcblx0XCIuL3doYXRzYXBwL3BhdHRlcm5zLXdoYXRzYXBwLnRzXCI6IDEyXG59O1xuXG5cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHR2YXIgaWQgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKTtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oaWQpO1xufVxuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRyZXR1cm4gbWFwW3JlcV07XG59XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gMTA7IiwiaW1wb3J0IHsgUGF0dGVybnNTdG9yZSB9IGZyb20gJy4uLy4uL3N0b3JlL3N0b3JlLXBhdHRlcm5zJztcbmV4cG9ydCB2YXIgUGF0dGVybnNMSU5FID0ge1xuICAgIGlvczoge1xuICAgICAgICBmaXJzdExpbmVTaWduYXR1cmU6ICdcXFxcW0xJTkVcXFxcXSB7e2ZzfX0gKFtcXFxcU1xcXFxzXSspJyxcbiAgICAgICAgYmVnaW5uaW5nRmlsZTogJ1xcXFxbTElORVxcXFxdIHt7ZnN9fSAoW1xcXFxTXFxcXHNdKyknLFxuICAgICAgICBkYXRlU2F2ZWQ6ICd7e2ZzfX0oPzpcXFxcOnzvvJopID8oKFxcXFxkezEsMn0pXFxcXC8oXFxcXGR7MSwyfSlcXFxcLyhcXFxcZHs0LH0pKSAoXFxcXGR7MSwyfVxcXFwuXFxcXGR7MSwyfSknLFxuICAgICAgICBkYXRlQmVnaW46ICcoXFxcXHcrKVxcXFwsICgoXFxcXGR7MSwyfSlcXFxcLyhcXFxcZHsxLDJ9KVxcXFwvKFxcXFxkezQsfSkpJyxcbiAgICAgICAgbWVzc2FnZUxpbmU6ICcoXFxcXGR7MSwyfVxcXFw6XFxcXGR7MSwyfSlcXFxcdChbXFxcXFNcXFxcc10rKVxcXFx0KFtcXFxcU1xcXFxzXSspJyxcbiAgICAgICAgYWx0ZXJuYXRlTWVzc2FnZUxpbmU6ICcoXFxcXGR7MSwyfVxcXFw6XFxcXGR7MSwyfSlcXFxcdChbXFxcXFNcXFxcc10rPyBsZWZ0IHRoZSBjaGF0LiknLFxuICAgICAgICB0b0RhdGVCZWdpblN0cmluZzogZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hbMV0gKyBcIiwgXCIgKyBtYXRjaFs0XSArIFwiL1wiICsgbWF0Y2hbM10gKyBcIi9cIiArIG1hdGNoWzVdO1xuICAgICAgICB9LFxuICAgICAgICB0b0RhdGVTYXZlZFN0cmluZzogZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hbM10gKyBcIi9cIiArIG1hdGNoWzJdICsgXCIvXCIgKyBtYXRjaFs0XSArIFwiIFwiICsgbWF0Y2hbNV0ucmVwbGFjZSgnLicsICc6Jyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFuZHJvaWQ6IHtcbiAgICAgICAgZmlyc3RMaW5lU2lnbmF0dXJlOiAne3tmc319IChbXFxcXFNcXFxcc10rKSggPzpcXFxcW0xJTkVcXFxcXSk/JyxcbiAgICAgICAgYmVnaW5uaW5nRmlsZTogJ3t7ZnN9fSAoW1xcXFxTXFxcXHNdKykoID86XFxcXFtMSU5FXFxcXF0pPycsXG4gICAgICAgIGRhdGVTYXZlZDogJ3t7ZnN9fSg/OlxcXFw6fO+8mikgPygoXFxcXGR7NH0pXFxcXC8oXFxcXGR7MSwyfSlcXFxcLyhcXFxcZHsxLDJ9KSkgKFxcXFxkezEsMn1cXFxcOlxcXFxkezEsMn0pJyxcbiAgICAgICAgZGF0ZUJlZ2luOiAnKChcXFxcZHs0fSkvKFxcXFxkezEsMn0pLyhcXFxcZHsxLDJ9KSlcXFxcKChcXFxcdyspJyxcbiAgICAgICAgbWVzc2FnZUxpbmU6ICcoXFxcXGR7MSwyfVxcXFw6XFxcXGR7MSwyfSlcXFxcdChbXFxcXFNcXFxcc10rKVxcXFx0KFtcXFxcU1xcXFxzXSspJyxcbiAgICAgICAgYWx0ZXJuYXRlTWVzc2FnZUxpbmU6ICcoXFxcXGR7MSwyfVxcXFw6XFxcXGR7MSwyfSlcXFxcdChbXFxcXFNcXFxcc10rPykgbGVmdCB0aGUgY2hhdC4nLFxuICAgICAgICB0b0RhdGVCZWdpblN0cmluZzogZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hbNV0gKyBcIiwgXCIgKyBtYXRjaFszXSArIFwiL1wiICsgbWF0Y2hbNF0gKyBcIi9cIiArIG1hdGNoWzJdO1xuICAgICAgICB9LFxuICAgICAgICB0b0RhdGVTYXZlZFN0cmluZzogZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hbM10gKyBcIi9cIiArIG1hdGNoWzRdICsgXCIvXCIgKyBtYXRjaFsyXSArIFwiIFwiICsgbWF0Y2hbNV07XG4gICAgICAgIH1cbiAgICB9XG59O1xuUGF0dGVybnNTdG9yZS5kZWZpbmVQYXR0ZXJucygnbGluZScsIFBhdHRlcm5zTElORSk7XG4iLCJpbXBvcnQgeyBQYXR0ZXJuc1N0b3JlIH0gZnJvbSAnLi8uLi8uLi9zdG9yZS9zdG9yZS1wYXR0ZXJucyc7XG4vLyB1cC10byBzZW5kZXIgbmFtZSAoc2VtaWNvbG9uL2Rhc2ggaW5jbHVkZWQpXG52YXIgaU9TTWVzc2FnZUxpbmVTdHJ1Y3R1cmUgPSAnXFxcXFsoXFxcXGR7MSwyfVxcXFwvXFxcXGR7MSwyfVxcXFwvXFxcXGR7MSwyfSBcXFxcZHsxLDJ9LlxcXFxkezEsMn0uXFxcXGR7MSwyfSlcXFxcXSAoW1xcXFxTXFxcXHNdKz8pOic7XG52YXIgYW5kcm9pZE1lc3NhZ2VMaW5lU3RydWN0dXJlTm9TZW5kZXIgPSAnKFxcXFxkezEsMn1cXFxcL1xcXFxkezEsMn1cXFxcL1xcXFxkezEsMn0gXFxcXGR7MSwyfS5cXFxcZHsxLDJ9KSAtICc7XG52YXIgYW5kcm9pZE1lc3NhZ2VMaW5lU3RydWN0dXJlV2l0aFNlbmRlciA9ICcoXFxcXGR7MSwyfVxcXFwvXFxcXGR7MSwyfVxcXFwvXFxcXGR7MSwyfSBcXFxcZHsxLDJ9LlxcXFxkezEsMn0pIC0gKFtcXFxcU1xcXFxzXSs/KTogJztcbnZhciBpbnZpc2libGVTZXBhcmF0b3IgPSAnXFx1MjAwZSc7XG4vLyB3aW5kb3dzIHwgdW5peFxudmFyIG5ld0xpbmUgPSAnXFxcXHJcXFxcbnxcXFxcbic7XG5leHBvcnQgdmFyIFBhdHRlcm5zV2hhdHNBcHAgPSB7XG4gICAgaW9zOiB7XG4gICAgICAgIGZpcnN0TGluZVNpZ25hdHVyZTogaU9TTWVzc2FnZUxpbmVTdHJ1Y3R1cmUgKyBcIiBcIiArIGludmlzaWJsZVNlcGFyYXRvciArIFwiKHt7ZnN9fSlcIixcbiAgICAgICAgZW5jcnlwdGlvbk5vdGlmaWNhdGlvbjogaU9TTWVzc2FnZUxpbmVTdHJ1Y3R1cmUgKyBcIiBcIiArIGludmlzaWJsZVNlcGFyYXRvciArIFwiKHt7ZnN9fSlcIixcbiAgICAgICAgbWlzc2VkQ2FsbDogaU9TTWVzc2FnZUxpbmVTdHJ1Y3R1cmUgKyBcIiBcIiArIGludmlzaWJsZVNlcGFyYXRvciArIFwiKHt7ZnN9fSlcIixcbiAgICAgICAgZGVsZXRlZE1lc3NhZ2U6IGlPU01lc3NhZ2VMaW5lU3RydWN0dXJlICsgXCIgXCIgKyBpbnZpc2libGVTZXBhcmF0b3IgKyBcIih7e2ZzfX0pXCIsXG4gICAgICAgIGF0dGFjaGVkQ29udGFjdDogXCJcIiArIGludmlzaWJsZVNlcGFyYXRvciArIGlPU01lc3NhZ2VMaW5lU3RydWN0dXJlICsgXCIgXCIgKyBpbnZpc2libGVTZXBhcmF0b3IgKyBcIjwoe3tmc319OiAoKFxcXFxkezh9KS0oW1xcXFxTXFxcXHNdKz8pLih2Y2YpKSk+XCIsXG4gICAgICAgIGF0dGFjaGVkRG9jdW1lbnQ6IFwiXCIgKyBpbnZpc2libGVTZXBhcmF0b3IgKyBpT1NNZXNzYWdlTGluZVN0cnVjdHVyZSArIFwiIChbXFxcXFNcXFxcc10rKT8gXCIgKyBpbnZpc2libGVTZXBhcmF0b3IgKyBcIjwoe3tmc319OiAoKFxcXFxkezh9KS0oW1xcXFxTXFxcXHNdKz8pLihbYS16MC05XSspKSk+XCIsXG4gICAgICAgIGF0dGFjaGVkTWVkaWE6IFwiXCIgKyBpbnZpc2libGVTZXBhcmF0b3IgKyBpT1NNZXNzYWdlTGluZVN0cnVjdHVyZSArIFwiIFwiICsgaW52aXNpYmxlU2VwYXJhdG9yICsgXCI8KHt7ZnN9fTogKChcXFxcZHs4fSktKFtcXFxcU1xcXFxzXSs/KSg/Oi0oXFxcXGR7NH0pLShcXFxcZHsxLDJ9KS0oXFxcXGR7MSwyfSktKFxcXFxkezEsMn0pLShcXFxcZHsxLDJ9KS0oXFxcXGR7MSwyfSkpPy4oW2EtejAtOV0rKSkpPlwiLFxuICAgICAgICBsb2NhdGlvbjogaU9TTWVzc2FnZUxpbmVTdHJ1Y3R1cmUgKyBcIiAoW1xcXFxTXFxcXHNdKyk6IChodHRwczovL21hcHMuZ29vZ2xlLmNvbS9bXFxcXFNcXFxcc10rKVwiLFxuICAgICAgICByZWd1bGFyTWVzc2FnZUxpbmU6IGlPU01lc3NhZ2VMaW5lU3RydWN0dXJlICsgXCIgKFtcXFxcU1xcXFxzXSspXCJcbiAgICB9LFxuICAgIGFuZHJvaWQ6IHtcbiAgICAgICAgZmlyc3RMaW5lU2lnbmF0dXJlOiBhbmRyb2lkTWVzc2FnZUxpbmVTdHJ1Y3R1cmVOb1NlbmRlciArIFwiKHt7ZnN9fSlcIixcbiAgICAgICAgZW5jcnlwdGlvbk5vdGlmaWNhdGlvbjogYW5kcm9pZE1lc3NhZ2VMaW5lU3RydWN0dXJlTm9TZW5kZXIgKyBcIih7e2ZzfX0pXCIsXG4gICAgICAgIG1pc3NlZENhbGw6IGFuZHJvaWRNZXNzYWdlTGluZVN0cnVjdHVyZVdpdGhTZW5kZXIgKyBcIih7e2ZzfX0pXCIsXG4gICAgICAgIGRlbGV0ZWRNZXNzYWdlOiBhbmRyb2lkTWVzc2FnZUxpbmVTdHJ1Y3R1cmVXaXRoU2VuZGVyICsgXCIoe3tmc319KVwiLFxuICAgICAgICBhdHRhY2hlZENvbnRhY3Q6IFwiXCIgKyBhbmRyb2lkTWVzc2FnZUxpbmVTdHJ1Y3R1cmVXaXRoU2VuZGVyICsgaW52aXNpYmxlU2VwYXJhdG9yICsgXCIoKFtcXFxcU1xcXFxzXSs/KS4odmNmKSkgKHt7ZnN9fSlcIixcbiAgICAgICAgYXR0YWNoZWRNZWRpYTogXCJcIiArIGFuZHJvaWRNZXNzYWdlTGluZVN0cnVjdHVyZVdpdGhTZW5kZXIgKyBpbnZpc2libGVTZXBhcmF0b3IgKyBcIigoW0EtWl17M30pLShcXFxcZHs4fSktKFdBXFxcXGR7NH0pLihbYS16MC05XSs/KSkgKHt7ZnN9fSlcIixcbiAgICAgICAgYXR0YWNoZWREb2N1bWVudDogXCJcIiArIGFuZHJvaWRNZXNzYWdlTGluZVN0cnVjdHVyZVdpdGhTZW5kZXIgKyBpbnZpc2libGVTZXBhcmF0b3IgKyBcIihbXFxcXFNcXFxcc10rPykuKFthLXowLTldKz8pICh7e2ZzfX0pXCIsXG4gICAgICAgIGxvY2F0aW9uOiBcIltcXFxcU1xcXFxzXVwiICsgbmV3TGluZSArIFwiW1xcXFxTXFxcXHNdXCIgKyBuZXdMaW5lICsgXCJ7e2ZzfX0gOiBbXFxcXFNcXFxcc11cIixcbiAgICAgICAgcmVndWxhck1lc3NhZ2VMaW5lOiBhbmRyb2lkTWVzc2FnZUxpbmVTdHJ1Y3R1cmVXaXRoU2VuZGVyICsgXCIoW1xcXFxTXFxcXHNdKylcIlxuICAgIH1cbn07XG5QYXR0ZXJuc1N0b3JlLmRlZmluZVBhdHRlcm5zKCd3aGF0c2FwcCcsIFBhdHRlcm5zV2hhdHNBcHApO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaHR0cFwiKTsiLCIvLyB1c2luZyBoYXNoIHZhbHVlIHRvIG1hcCBiZXR3ZWVuIHJlZ2V4IHN0cmluZyB0byByZWdleCB2YWx1ZSwgdXNlZCBmb3IgY2FjaGluZ1xuLy8gaGFzaCB2YWx1ZSBpcyBjb21wdXRlZCBmcm9tIHRoZSByZWdleCBzdHJpbmcgaXRzZWxmXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NjE2NDYxL2dlbmVyYXRlLWEtaGFzaC1mcm9tLXN0cmluZy1pbi1qYXZhc2NyaXB0XG5mdW5jdGlvbiBoYXNoQ29kZShzdHIpIHtcbiAgICB2YXIgaGFzaCA9IDAsIGksIGNocjtcbiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgZm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaHIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNocjtcbiAgICAgICAgaGFzaCB8PSAwO1xuICAgIH1cbiAgICByZXR1cm4gaGFzaDtcbn1cbnZhciBSZWdleEJ1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVnZXhCdWlsZGVyKCkge1xuICAgIH1cbiAgICBSZWdleEJ1aWxkZXIuX2NoYW5nZUZvcm1hdFNwZWNpZmllciA9IGZ1bmN0aW9uIChmb3JtYXRTcGVjaWZpZXIpIHtcbiAgICAgICAgdGhpcy5mb3JtYXRTcGVjaWZpZXIgPSBmb3JtYXRTcGVjaWZpZXI7XG4gICAgICAgIHRoaXMucmVnZXhGb3JtYXRTcGVjaWZpZXIgPSBuZXcgUmVnRXhwKGZvcm1hdFNwZWNpZmllciwgJ2cnKTtcbiAgICB9O1xuICAgIFJlZ2V4QnVpbGRlci5idWlsZCA9IGZ1bmN0aW9uIChzdHIsIG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge1xuICAgICAgICAgICAgZm9ybWF0U3BlY2lmaWVyOiB0aGlzLmZvcm1hdFNwZWNpZmllcixcbiAgICAgICAgICAgIGluY2x1ZGVTdGFydGluZ0JvdW5kYXJ5OiBmYWxzZSxcbiAgICAgICAgICAgIGluY2x1ZGVFbmRCb3VuZGFyeTogZmFsc2VcbiAgICAgICAgfTsgfVxuICAgICAgICB2YXIgZm9ybWF0UGFyYW1zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBmb3JtYXRQYXJhbXNbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvcm1hdFNwZWNpZmllciA9IG9wdHMuZm9ybWF0U3BlY2lmaWVyO1xuICAgICAgICB2YXIgZm9ybWF0UGFyYW1zSW5kZXggPSAwO1xuICAgICAgICB2YXIgZm9ybWF0dGVkU3RyID0gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cChmb3JtYXRTcGVjaWZpZXIsICdnJyksIGZ1bmN0aW9uIChzdWJzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0UGFyYW1zW2Zvcm1hdFBhcmFtc0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9wdHMuaW5jbHVkZVN0YXJ0aW5nQm91bmRhcnkpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0ciA9ICdeJyArIGZvcm1hdHRlZFN0cjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5pbmNsdWRlRW5kQm91bmRhcnkpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0ciArPSAnJCc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc2ggPSBoYXNoQ29kZShmb3JtYXR0ZWRTdHIpO1xuICAgICAgICBpZiAoIXRoaXMucmVnZXhDYWNoZVtoYXNoXSkge1xuICAgICAgICAgICAgdGhpcy5yZWdleENhY2hlW2hhc2hdID0gbmV3IFJlZ0V4cChmb3JtYXR0ZWRTdHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2V4Q2FjaGVbaGFzaF07XG4gICAgfTtcbiAgICBSZWdleEJ1aWxkZXIuZm9ybWF0U3BlY2lmaWVyID0gJ3t7ZnN9fSc7XG4gICAgUmVnZXhCdWlsZGVyLnJlZ2V4Rm9ybWF0U3BlY2lmaWVyID0gL1xce1xce2ZzXFx9XFx9L2c7XG4gICAgLy8gY2FjaGluZyB0byBhdm9pZCByZWNyZWF0aW5nIHJlZ2V4cCB3aXRoIFJlZ0V4cCBjb25zdHJ1Y3RvclxuICAgIFJlZ2V4QnVpbGRlci5yZWdleENhY2hlID0ge307XG4gICAgcmV0dXJuIFJlZ2V4QnVpbGRlcjtcbn0oKSk7XG5leHBvcnQgeyBSZWdleEJ1aWxkZXIgfTtcbiIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBTY2FubmVyIH0gZnJvbSAnLi9zY2FubmVyJztcbnZhciBTY2FubmVyV2hhdHNBcHAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNjYW5uZXJXaGF0c0FwcCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTY2FubmVyV2hhdHNBcHAoc291cmNlLCBmaWxlSW5mbykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzb3VyY2UsIGZpbGVJbmZvKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIF90aGlzLmZpbGVJbmZvID0gZmlsZUluZm87XG4gICAgICAgIF90aGlzLmN1cnJlbnREYXRlID0gJyc7XG4gICAgICAgIF90aGlzLnNldENoYXROYW1lKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2Nhbm5lcldoYXRzQXBwLnByb3RvdHlwZS5zZXRDaGF0TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSB0aGlzLmZpbGVJbmZvLm9zVHlwZSA9PSAnaW9zJyA/IDAgOiAxO1xuICAgICAgICB2YXIgZmlyc3RMaW5lID0gdGhpcy5zb3VyY2Vbc3RhcnRJbmRleF0ubWF0Y2godGhpcy5yZWdleFN0b3JlLmVuY3J5cHRpb25Ob3RpZmljYXRpb24pO1xuICAgICAgICBpZiAoZmlyc3RMaW5lKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY2hhdE5hbWUgPSBmaXJzdExpbmVbMl07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYW5uZXJXaGF0c0FwcC5wcm90b3R5cGUucGFyc2VBdHRhY2hlZE1lZGlhQW5kcm9pZCA9IGZ1bmN0aW9uIChyZWdleCwgbWF0Y2gpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgYWRkaXRpb25hbEluZm8gPSB7XG4gICAgICAgICAgICBmdWxsRmlsZU5hbWU6ICcnLFxuICAgICAgICAgICAgZmlsZUlEOiAnJyxcbiAgICAgICAgICAgIGZpbGVUeXBlOiAnJyxcbiAgICAgICAgICAgIGZpbGVOYW1lOiAnJyxcbiAgICAgICAgICAgIGNvbnRhY3ROYW1lOiAnJyxcbiAgICAgICAgICAgIGZpbGVFeHRlbnNpb246ICcnXG4gICAgICAgIH07XG4gICAgICAgIF9hID0gbWF0Y2guc2xpY2UoMyksIGFkZGl0aW9uYWxJbmZvLmZ1bGxGaWxlTmFtZSA9IF9hWzBdLCBhZGRpdGlvbmFsSW5mby5maWxlVHlwZSA9IF9hWzFdO1xuICAgICAgICAvL2FkZGl0aW9uYWxJbmZvLmZ1bGxGaWxlTmFtZSA9IGFkZGl0aW9uYWxJbmZvLmZpbGVOYW1lICsgJy4nICsgYWRkaXRpb25hbEluZm8uZmlsZUV4dGVuc2lvbjtcbiAgICAgICAgLy9hZGRpdGlvbmFsSW5mby5maWxlRXh0ZW5zaW9uID0gbWF0Y2hbN107XG4gICAgICAgIGlmIChyZWdleCA9PSAnYXR0YWNoZWRNZWRpYScpIHtcbiAgICAgICAgICAgIGFkZGl0aW9uYWxJbmZvLmZpbGVFeHRlbnNpb24gPSBtYXRjaFs3XTtcbiAgICAgICAgICAgIGFkZGl0aW9uYWxJbmZvLmZpbGVJRCA9IG1hdGNoWzZdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlZ2V4ID09ICdhdHRhY2hlZENvbnRhY3QnKSB7XG4gICAgICAgICAgICBhZGRpdGlvbmFsSW5mby5maWxlRXh0ZW5zaW9uID0gbWF0Y2hbNV07XG4gICAgICAgICAgICBhZGRpdGlvbmFsSW5mby5jb250YWN0TmFtZSA9IG1hdGNoWzRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlZ2V4ID09ICdhdHRhY2hlZERvY3VtZW50Jykge1xuICAgICAgICAgICAgYWRkaXRpb25hbEluZm8uZmlsZUV4dGVuc2lvbiA9IG1hdGNoWzRdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaW5hbEluZm8gPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaW5mbyBpbiBhZGRpdGlvbmFsSW5mbykge1xuICAgICAgICAgICAgaWYgKGFkZGl0aW9uYWxJbmZvW2luZm9dKSB7XG4gICAgICAgICAgICAgICAgZmluYWxJbmZvW2luZm9dID0gYWRkaXRpb25hbEluZm9baW5mb107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbmFsSW5mbztcbiAgICB9O1xuICAgIFNjYW5uZXJXaGF0c0FwcC5wcm90b3R5cGUucGFyc2VBdHRhY2hlZE1lZGlhSU9TID0gZnVuY3Rpb24gKHJlZ2V4LCBtYXRjaCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBhZGRpdGlvbmFsSW5mbyA9IHtcbiAgICAgICAgICAgIGZ1bGxGaWxlTmFtZTogJycsXG4gICAgICAgICAgICBmaWxlSUQ6ICcnLFxuICAgICAgICAgICAgZmlsZVR5cGU6ICcnLFxuICAgICAgICAgICAgZmlsZU5hbWU6ICcnLFxuICAgICAgICAgICAgY29udGFjdE5hbWU6ICcnLFxuICAgICAgICAgICAgZmlsZUV4dGVuc2lvbjogJydcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHJlZ2V4ID09ICdhdHRhY2hlZE1lZGlhJykge1xuICAgICAgICAgICAgdmFyIGZpbGVJbmZvID0gbWF0Y2guc2xpY2UoNCk7XG4gICAgICAgICAgICBhZGRpdGlvbmFsSW5mby5mdWxsRmlsZU5hbWUgPSBmaWxlSW5mb1swXSwgYWRkaXRpb25hbEluZm8uZmlsZUlEID0gZmlsZUluZm9bMV0sIGFkZGl0aW9uYWxJbmZvLmZpbGVUeXBlID0gZmlsZUluZm9bMl07XG4gICAgICAgICAgICBhZGRpdGlvbmFsSW5mby5maWxlRXh0ZW5zaW9uID0gZmlsZUluZm9bOV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZ2V4ID09ICdhdHRhY2hlZERvY3VtZW50Jykge1xuICAgICAgICAgICAgdmFyIGZpbGVJbmZvID0gbWF0Y2guc2xpY2UoNSk7XG4gICAgICAgICAgICBfYSA9IGZpbGVJbmZvLnNsaWNlKCksIGFkZGl0aW9uYWxJbmZvLmZ1bGxGaWxlTmFtZSA9IF9hWzBdLCBhZGRpdGlvbmFsSW5mby5maWxlSUQgPSBfYVsxXSwgYWRkaXRpb25hbEluZm8uZmlsZU5hbWUgPSBfYVsyXSwgYWRkaXRpb25hbEluZm8uZmlsZUV4dGVuc2lvbiA9IF9hWzNdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWdleCA9PSAnYXR0YWNoZWRDb250YWN0Jykge1xuICAgICAgICAgICAgdmFyIGZpbGVJbmZvID0gbWF0Y2guc2xpY2UoNCk7XG4gICAgICAgICAgICBhZGRpdGlvbmFsSW5mby5mdWxsRmlsZU5hbWUgPSBmaWxlSW5mb1swXSwgYWRkaXRpb25hbEluZm8uZmlsZUlEID0gZmlsZUluZm9bMV0sIGFkZGl0aW9uYWxJbmZvLmNvbnRhY3ROYW1lID0gZmlsZUluZm9bMl0sIGFkZGl0aW9uYWxJbmZvLmZpbGVFeHRlbnNpb24gPSBmaWxlSW5mb1szXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmluYWxJbmZvID0ge307XG4gICAgICAgIGZvciAodmFyIGluZm8gaW4gYWRkaXRpb25hbEluZm8pIHtcbiAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsSW5mb1tpbmZvXSkge1xuICAgICAgICAgICAgICAgIGZpbmFsSW5mb1tpbmZvXSA9IGFkZGl0aW9uYWxJbmZvW2luZm9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaW5hbEluZm87XG4gICAgfTtcbiAgICBTY2FubmVyV2hhdHNBcHAucHJvdG90eXBlLnNjYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgd2hpbGUgKHRoaXMuaW5kZXggIT0gdGhpcy5zb3VyY2UubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSB0aGlzLnNvdXJjZVt0aGlzLmluZGV4XTtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBoYXNNYXRjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHZhciByZWdleCBpbiB0aGlzLnJlZ2V4U3RvcmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoKG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLnJlZ2V4U3RvcmVbcmVnZXhdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzTWF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlU2VudCA9IHZvaWQgMCwgc2VuZGVyID0gdm9pZCAwLCBtZXNzYWdlQ29udGVudCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBtYXRjaC5zbGljZSgxKSwgZGF0ZVNlbnQgPSBfYVswXSwgc2VuZGVyID0gX2FbMV0sIG1lc3NhZ2VDb250ZW50ID0gX2FbMl07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID09IDAgJiYgdGhpcy5maWxlSW5mby5vc1R5cGUgPT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXIgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VDb250ZW50ID0gbWF0Y2hbMl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVCZWdpbiA9IGRhdGVTZW50LnNwbGl0KCcgJylbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuY2hhdFBhcnRpY2lwYW50cy5pbmRleE9mKHNlbmRlcikgPCAwICYmIHNlbmRlciAhPSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLmNoYXRQYXJ0aWNpcGFudHMucHVzaChzZW5kZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlTGluZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlU2VudDogZGF0ZVNlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXI6IHNlbmRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VDb250ZW50OiBtZXNzYWdlQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VUeXBlOiByZWdleFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVnZXgubWF0Y2goL15hdHRhY2hlZC8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTGluZURhdGEuYWRkaXRpb25hbEluZm8gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZUluZm8ub3NUeXBlID09ICdpb3MnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5wYXJzZUF0dGFjaGVkTWVkaWFJT1MocmVnZXgsIG1hdGNoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMucGFyc2VBdHRhY2hlZE1lZGlhQW5kcm9pZChyZWdleCwgbWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnREYXRlICE9PSBkYXRlQmVnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5ncm91cHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZUJlZ2luOiBkYXRlQmVnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IFttZXNzYWdlTGluZURhdGFdXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSBkYXRlQmVnaW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuZ3JvdXBzW3RoaXMuZGF0YS5ncm91cHMubGVuZ3RoIC0gMV0ubWVzc2FnZXMucHVzaChtZXNzYWdlTGluZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS50b3RhbE1lc3NhZ2VzKys7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGFzTWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIHZhciBncm91cHMgPSB0aGlzLmRhdGEuZ3JvdXBzO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50R3JvdXAgPSBncm91cHNbZ3JvdXBzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlcyA9IGN1cnJlbnRHcm91cC5tZXNzYWdlcztcbiAgICAgICAgICAgICAgICBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXS5tZXNzYWdlQ29udGVudCArPSAnXFxuJyArIGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBTY2FubmVyV2hhdHNBcHA7XG59KFNjYW5uZXIpKTtcbmV4cG9ydCB7IFNjYW5uZXJXaGF0c0FwcCB9O1xuIiwiaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnO1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRCYWNrdXBGaWxlKHBhdGgpIHtcbiAgICByZXR1cm4gcmVhZEZpbGVTeW5jKHBhdGgsICd1dGYtOCcpO1xufVxuIiwiaW1wb3J0IHsgUGF0dGVybnNTdG9yZSB9IGZyb20gJy4vLi4vc3RvcmUvc3RvcmUtcGF0dGVybnMnO1xuaW1wb3J0IHsgTG9jYWxlc1N0b3JlIH0gZnJvbSAnLi4vc3RvcmUvc3RvcmUtbG9jYWxlcyc7XG5pbXBvcnQgeyBSZWdleEJ1aWxkZXIgfSBmcm9tICcuLi9yZWdleC1idWlsZGVyJztcbnZhciBTY2FubmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjYW5uZXIoc291cmNlLCBmaWxlSW5mbykge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5maWxlSW5mbyA9IGZpbGVJbmZvO1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5wYXR0ZXJucyA9IFBhdHRlcm5zU3RvcmUuZ2V0UGF0dGVybnMoZmlsZUluZm8uYXBwVHlwZSwgZmlsZUluZm8ub3NUeXBlKTtcbiAgICAgICAgdGhpcy5yZWdleFN0b3JlID0gdGhpcy5idWlsZFJlZ2V4KCk7XG4gICAgICAgIHRoaXMuZGF0YSA9IHsgY2hhdE5hbWU6ICcnLCBjaGF0UGFydGljaXBhbnRzOiBbXSwgZ3JvdXBzOiBbXSwgdG90YWxNZXNzYWdlczogMCB9O1xuICAgIH1cbiAgICBTY2FubmVyLnByb3RvdHlwZS5idWlsZFJlZ2V4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVnZXhTdG9yZSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBwYXR0ZXJuIGluIHRoaXMucGF0dGVybnMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wYXR0ZXJuc1twYXR0ZXJuXSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVnZXggPSBSZWdleEJ1aWxkZXIuYnVpbGQodGhpcy5wYXR0ZXJuc1twYXR0ZXJuXSwgdW5kZWZpbmVkLCBMb2NhbGVzU3RvcmUuZ2V0TG9jYWxlKHRoaXMuZmlsZUluZm8uYXBwVHlwZSwgdGhpcy5maWxlSW5mby5sYW5nKVtwYXR0ZXJuXSk7XG4gICAgICAgICAgICByZWdleFN0b3JlW3BhdHRlcm5dID0gcmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZ2V4U3RvcmU7XG4gICAgfTtcbiAgICByZXR1cm4gU2Nhbm5lcjtcbn0oKSk7XG5leHBvcnQgeyBTY2FubmVyIH07XG4iLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgU2Nhbm5lciB9IGZyb20gJy4vc2Nhbm5lcic7XG52YXIgU2Nhbm5lckxJTkUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNjYW5uZXJMSU5FLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNjYW5uZXJMSU5FKHNvdXJjZSwgZmlsZUluZm8pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlLCBmaWxlSW5mbykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBfdGhpcy5maWxlSW5mbyA9IGZpbGVJbmZvO1xuICAgICAgICBfdGhpcy5kYXRhLmRhdGVTYXZlZCA9ICcnO1xuICAgICAgICBfdGhpcy5zZXRDaGF0TmFtZSgpO1xuICAgICAgICBfdGhpcy5zZXRTYXZlZERhdGUoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTY2FubmVyTElORS5wcm90b3R5cGUuc2V0Q2hhdE5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmaXJzdExpbmUgPSB0aGlzLnNvdXJjZVt0aGlzLmluZGV4KytdLm1hdGNoKHRoaXMucmVnZXhTdG9yZS5iZWdpbm5pbmdGaWxlKTtcbiAgICAgICAgaWYgKGZpcnN0TGluZSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLmNoYXROYW1lID0gZmlyc3RMaW5lWzFdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTb21lIGZpbGVzIGluY2x1ZGUgZmV3IHN0cmluZ3MgYWZ0ZXIgY2hhdCBuYW1lIHN0cmluZy5cbiAgICAgKiBSZWdleCBtYXRjaGVzIHRob3NlIHN0cmluZyBhbmQgY2FwdHVyZWQgaW4gZ3JvdXBzLCB0aHVzIGdldCBhc3NpZ25lZCBpbnRvIGNoYXQgbmFtZSxcbiAgICAgKiB3aGljaCBtYWtlcyBjaGF0IG5hbWUgaW5jb3JyZWN0LlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBndWVzc2VzIHRoZSBiZXN0IG5hbWUgYnkgY2hlY2tpbmcgYW5kIGNvbXBhcmluZyBldmVyeSBuYW1lcyB0aGF0IGhhdmUgYmVlbiBzdG9yZWRcbiAgICAgKiBkdXJpbmcgc2Nhbm5pbmcgdG8gdGhlIGFzc2lnbmVkIGNoYXQgbmFtZS5cbiAgICAgKi9cbiAgICBTY2FubmVyTElORS5wcm90b3R5cGUubWF0Y2hDaGF0TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5kYXRhLmNoYXRQYXJ0aWNpcGFudHMuZm9yRWFjaChmdW5jdGlvbiAoY2hhdFBhcnRpY2lwYW50KSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuZGF0YS5jaGF0TmFtZS5tYXRjaChjaGF0UGFydGljaXBhbnQpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGF0YS5jaGF0TmFtZSA9IGNoYXRQYXJ0aWNpcGFudDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2Nhbm5lckxJTkUucHJvdG90eXBlLnNldFNhdmVkRGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNyYyA9IHRoaXMuc291cmNlW3RoaXMuaW5kZXgrK107XG4gICAgICAgIC8vY29uc29sZS5sb2coc3JjLCBzcmMubWF0Y2godGhpcy5yZWdleFN0b3JlLmRhdGVTYXZlZCksIHRoaXMucmVnZXhTdG9yZS5kYXRlU2F2ZWQpO1xuICAgICAgICB2YXIgc2Vjb25kTGluZSA9IHRoaXMucGF0dGVybnMudG9EYXRlU2F2ZWRTdHJpbmcoc3JjLm1hdGNoKHRoaXMucmVnZXhTdG9yZS5kYXRlU2F2ZWQpKTtcbiAgICAgICAgaWYgKHNlY29uZExpbmUpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5kYXRlU2F2ZWQgPSBzZWNvbmRMaW5lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICB9O1xuICAgIFNjYW5uZXJMSU5FLnByb3RvdHlwZS5zY2FuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5pbmRleCAhPSB0aGlzLnNvdXJjZS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuZ3JvdXBzLnB1c2godGhpcy5zY2FuTWVzc2FnZXNJbkdyb3VwKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWF0Y2hDaGF0TmFtZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH07XG4gICAgLy8gbWVzc2FnZSBncm91cHMgYXJlIGdyb3VwZWQgYnkgZGF0ZVxuICAgIFNjYW5uZXJMSU5FLnByb3RvdHlwZS5zY2FuTWVzc2FnZXNJbkdyb3VwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVzc2FnZXNJbkdyb3VwID0geyBkYXRlQmVnaW46ICcnLCBtZXNzYWdlczogW10gfTtcbiAgICAgICAgdmFyIGRhdGVCZWdpbiA9IHRoaXMucGF0dGVybnMudG9EYXRlQmVnaW5TdHJpbmcodGhpcy5zb3VyY2VbdGhpcy5pbmRleCsrXS5tYXRjaCh0aGlzLnJlZ2V4U3RvcmUuZGF0ZUJlZ2luKSk7XG4gICAgICAgIG1lc3NhZ2VzSW5Hcm91cC5kYXRlQmVnaW4gPSBkYXRlQmVnaW47XG4gICAgICAgIC8vIG1lc3NhZ2UgZ3JvdXAgZW5kcyBpZiBwb2ludGVyICh0aGlzLmluZGV4KSBmaW5kcyBkYXRlQmVnaW4gc3RyaW5nXG4gICAgICAgIHdoaWxlICghdGhpcy5zb3VyY2VbdGhpcy5pbmRleF0ubWF0Y2godGhpcy5yZWdleFN0b3JlLmRhdGVCZWdpbikpIHtcbiAgICAgICAgICAgIC8vIG9yIGVuZCBvZiB0aGUgZmlsZVxuICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gdGhpcy5zb3VyY2UubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1hdGNoID0gdGhpcy5zb3VyY2VbdGhpcy5pbmRleF0ubWF0Y2godGhpcy5yZWdleFN0b3JlLm1lc3NhZ2VMaW5lKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS50b3RhbE1lc3NhZ2VzKys7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gbWF0Y2guc2xpY2UoMSwgNCksIGRhdGVTZW50ID0gX2FbMF0sIHNlbmRlciA9IF9hWzFdLCBtZXNzYWdlQ29udGVudCA9IF9hWzJdO1xuICAgICAgICAgICAgICAgIC8vIHN0b3Jpbmcgc2VuZGVyIG5hbWVzXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5jaGF0UGFydGljaXBhbnRzLmluZGV4T2Yoc2VuZGVyKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLmNoYXRQYXJ0aWNpcGFudHMucHVzaChzZW5kZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtZXNzYWdlc0luR3JvdXAubWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGVTZW50OiBkYXRlU2VudCxcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyOiBzZW5kZXIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VDb250ZW50OiBtZXNzYWdlQ29udGVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc29tZSBtZXNzYWdlcyBpbmNsdWRlIGxpbmVicmVha1xuICAgICAgICAgICAgLy8gcmVhZCBzdWJzZXF1ZW50IHN0cmluZyBhZnRlciBsaW5lYnJlYWsgaWYgdGhlIHN0cmluZyBkb2VzIG5vdCBtYXRjaCB0byBtZXNzYWdlTGluZSBzdHJpbmdcbiAgICAgICAgICAgIC8vIGFuZCBhcHBlbmQgdGhlIHN0cmluZyB0byBwcmV2aW91cyBtZXNzYWdlQ29udGVudFxuICAgICAgICAgICAgaWYgKHRoaXMuc291cmNlW3RoaXMuaW5kZXhdLm1hdGNoKC9bXFxTXFxzXS8pICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoICYmXG4gICAgICAgICAgICAgICAgbWVzc2FnZXNJbkdyb3VwLm1lc3NhZ2VzW21lc3NhZ2VzSW5Hcm91cC5tZXNzYWdlcy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzSW5Hcm91cC5tZXNzYWdlc1ttZXNzYWdlc0luR3JvdXAubWVzc2FnZXMubGVuZ3RoIC0gMV0ubWVzc2FnZUNvbnRlbnQgKz1cbiAgICAgICAgICAgICAgICAgICAgJ1xcbicgKyB0aGlzLnNvdXJjZVt0aGlzLmluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGhhbmRsZSBzcGVjaWFsIGNhc2VzIHN1Y2ggYXMgc29tZW9uZSBsZWZ0IHRoZSBjaGF0IGluIGdyb3VwIGNoYXRcbiAgICAgICAgICAgIGlmICghbWF0Y2ggJiYgKG1hdGNoID0gdGhpcy5zb3VyY2VbdGhpcy5pbmRleF0ubWF0Y2godGhpcy5yZWdleFN0b3JlLmFsdGVybmF0ZU1lc3NhZ2VMaW5lKSkpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlc0luR3JvdXAubWVzc2FnZXMucHVzaCh7IGRhdGVTZW50OiBtYXRjaFsxXSwgbWVzc2FnZUNvbnRlbnQ6IG1hdGNoWzJdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlc0luR3JvdXA7XG4gICAgfTtcbiAgICByZXR1cm4gU2Nhbm5lckxJTkU7XG59KFNjYW5uZXIpKTtcbmV4cG9ydCB7IFNjYW5uZXJMSU5FIH07XG4iLCJpbXBvcnQgeyBTY2FubmVyV2hhdHNBcHAgfSBmcm9tICcuLy4uL3NjYW5uZXIvc2Nhbm5lci13aGF0c2FwcCc7XG5pbXBvcnQgeyBTY2FubmVyTElORSB9IGZyb20gJy4vLi4vc2Nhbm5lci9zY2FubmVyLWxpbmUnO1xuZXhwb3J0IHZhciBtYXBUb1NjYW5uZXIgPSB7XG4gICAgbGluZTogU2Nhbm5lckxJTkUsXG4gICAgd2hhdHNhcHA6IFNjYW5uZXJXaGF0c0FwcFxufTtcbiIsImltcG9ydCB7IHJlYWRCYWNrdXBGaWxlIH0gZnJvbSAnLi9maWxlLXJlYWRlcic7XG5pbXBvcnQgUGFyc2VyIGZyb20gJy4vcGFyc2VyL3BhcnNlcic7XG52YXIgZmlsZSA9IHJlYWRCYWNrdXBGaWxlKCdleGFtcGxlcy93YV9hbmRyb2lkX2JlZ2VfaWQvX2NoYXQudHh0Jyk7XG5leHBvcnQgdmFyIGRhdGEgPSBuZXcgUGFyc2VyKGZpbGUpLnBhcnNlKCk7XG4iLCJpbXBvcnQgeyBSZWdleEJ1aWxkZXIgfSBmcm9tICcuLy4uL3JlZ2V4LWJ1aWxkZXInO1xuaW1wb3J0IHsgUGF0dGVybnNTdG9yZSB9IGZyb20gJy4vLi4vc3RvcmUvc3RvcmUtcGF0dGVybnMnO1xuaW1wb3J0IHsgTG9jYWxlc1N0b3JlIH0gZnJvbSAnLi4vc3RvcmUvc3RvcmUtbG9jYWxlcyc7XG5pbXBvcnQgeyBtYXBUb1NjYW5uZXIgfSBmcm9tICcuL21hcC10by1zY2FubmVyJztcbnZhciBQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyc2VyKHNvdXJjZSkge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5zcGxpdFNvdXJjZSA9IHNvdXJjZS5zcGxpdCgvXFxyXFxufFxcbi8pO1xuICAgICAgICB0aGlzLmZpbGVJbmZvID0gdGhpcy5fZ2V0RmlsZUluZm8oKTtcbiAgICB9XG4gICAgUGFyc2VyLnByb3RvdHlwZS5fZ2V0RmlsZUluZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmaWxlSW5mbyA9IHsgYXBwVHlwZTogbnVsbCwgb3NUeXBlOiBudWxsLCBsYW5nOiBudWxsIH07XG4gICAgICAgIHZhciBmaXJzdExpbmUgPSB0aGlzLnNwbGl0U291cmNlWzBdO1xuICAgICAgICB2YXIgcGF0dGVybnMgPSBQYXR0ZXJuc1N0b3JlLmdldEFsbFBhdHRlcm5zKCk7XG4gICAgICAgIC8vIGV4aGF1c3QgY2hlY2sgZXZlcnkgZGF0YVxuICAgICAgICAvLyBsaW5lYXJseSBzZWFyY2ggZXZlcnkgcmVnZXggYW5kIG1hdGNoIGZvciBlYWNoIG9mIHRoZW0gdG8gZmlyc3RMaW5lIHN0cmluZ1xuICAgICAgICBmb3IgKHZhciBhcHBUeXBlIGluIHBhdHRlcm5zKSB7XG4gICAgICAgICAgICB2YXIgbG9jYWxlc0J5QXBwTmFtZSA9IExvY2FsZXNTdG9yZS5nZXRMb2NhbGVzQnlBcHBOYW1lKGFwcFR5cGUpO1xuICAgICAgICAgICAgZm9yICh2YXIgbG9jYWxlTGFuZyBpbiBsb2NhbGVzQnlBcHBOYW1lKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgb3NUeXBlIGluIHBhdHRlcm5zW2FwcFR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdExpbmVTaWduYXR1cmVSZWdleCA9IFJlZ2V4QnVpbGRlci5idWlsZChwYXR0ZXJuc1thcHBUeXBlXVtvc1R5cGVdLmZpcnN0TGluZVNpZ25hdHVyZSwgdW5kZWZpbmVkLCBMb2NhbGVzU3RvcmUuZ2V0TG9jYWxlKGFwcFR5cGUsIGxvY2FsZUxhbmcpLmZpcnN0TGluZVNpZ25hdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdExpbmUubWF0Y2goZmlyc3RMaW5lU2lnbmF0dXJlUmVnZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlSW5mbyA9IHsgYXBwVHlwZTogYXBwVHlwZSwgb3NUeXBlOiBvc1R5cGUsIGxhbmc6IGxvY2FsZUxhbmcgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWxlSW5mbztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsZUluZm87XG4gICAgfTtcbiAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgU2Nhbm5lciA9IG1hcFRvU2Nhbm5lclt0aGlzLmZpbGVJbmZvLmFwcFR5cGVdO1xuICAgICAgICBpZiAoU2Nhbm5lcikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTY2FubmVyKHRoaXMuc3BsaXRTb3VyY2UsIHRoaXMuZmlsZUluZm8pLnNjYW4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBQYXJzZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUGFyc2VyO1xuIiwiLyoqXG4gKiB1c2VkIGZvciB0ZXN0aW5nXG4gKiBwcmludGluZyBkYXRhIGludG8gY2xpZW50J3MgY29uc29sZS5sb2dcbiAqIHNpbmNlIG5vZGUncyBjb25zb2xlLmxvZyBpc24ndCBhcyBpbnRlcmFjdGl2ZVxuICovXG5pbXBvcnQgeyBkYXRhIH0gZnJvbSAnLi9pbmRleCc7XG52YXIgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcbnZhciBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgICByZXMud3JpdGVIZWFkKDIwMCwgeyAnQ29udGVudC1UeXBlJzogJ3RleHQvaHRtbCcgfSk7XG4gICAgdmFyIHJlc3BvbnNlID0gJzxzY3JpcHQ+Y29uc29sZS5sb2coKCcgKyBKU09OLnN0cmluZ2lmeShkYXRhKSArICcpKTs8L3NjcmlwdD4nO1xuICAgIHJlcy5lbmQocmVzcG9uc2UpO1xufSk7XG5zZXJ2ZXIubGlzdGVuKDEzMzcsICcxMjcuMC4wLjEnKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=